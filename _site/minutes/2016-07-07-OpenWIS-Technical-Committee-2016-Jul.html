<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>OpenWIS Technical Committee 2016 July</title>
  <meta name="description" content="7th July 2016 - teleconference - meeting minutes  OpenWIS 3.14          Update to the patchable version of Java that Martin and Marc are working on for the p...">


  <link rel="canonical" href="http://openwis.github.io/openwis-documentation/minutes/2016-07-07-OpenWIS-Technical-Committee-2016-Jul.html">
  <link rel="alternate" type="application/rss+xml" title="OpenWIS Association AISBL" href="http://openwis.github.io/openwis-documentation/feed.xml">
  <link rel="stylesheet" href="/openwis-documentation/css/main.css">
  <link rel="shortcut icon" href="/openwis-documentation/favicon.ico?r=31241">
  <link rel="icon" href="/openwis-documentation/favicon.ico?r=31241">

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <div class="site-banner"><span class="site-title"><img src="/openwis-documentation/assets/openwis.jpg" alt="OpenWIS®" style="max-height:40px; width:auto"/><a href="/openwis-documentation/">OpenWIS Association AISBL</a></span></div>


    <nav class="site-nav">
      <div class="trigger">
	 <a class="page-link" href="/openwis-documentation/">Home</a>      
         <div class="page-link">
            <ul class="dropdown"><label for="a1"><a href="/openwis-documentation/about/">Association</a></label><input id="a1" type="checkbox">
                  <li><a href="/openwis-documentation/structure/members.html">Members</a></li>
	          <li><a href="/openwis-documentation/structure/governance.html">Governance</a></li>
                  <li><a href="/openwis-documentation/articles/">Articles of Association</a></li>
                  <li><a href="/openwis-documentation/rules/">Internal Rules</a></li>
                  <li><a href="/openwis-documentation/conduct/">Code of Conduct</a></li> 
                  <li><a href="/openwis-documentation/tr/">Technical Rules</a></li>
		  <li><a href="/openwis-documentation/rules2/">Rules Supplements</a></li>
                  <li><a href="/openwis-documentation/minutes/">Meetings Minutes and Notes</a></li> 
                  <li><a href="/openwis-documentation/metrics/">Goals</a></li> 
            </ul>
         </div>
         <div class="page-link">
            <ul class="dropdown"><label for="p1"><a href="/openwis-documentation/projects/">Projects</a></label><input id="p1" type="checkbox">
               <li><ul class="dropdown"><label for="p21"><a href="/openwis-documentation/projects/openwis/">OpenWIS</a></label><input id="p21" type="checkbox" checked>
		     <li><a href="/openwis-documentation/backlog/">Backlog</a></li>
                     <li><a href="/openwis-documentation/kanban/">Kanban</a></li>
		     <li><a href="https://openwis.github.io/openwis" target="_blank">Github Development*</a></li>
                     <li><a href="https://github.com/OpenWIS/openwis" target="_blank">Github Repository*</a><li>
                     <li><a href="https://github.com/OpenWIS/openwis/wiki" target="_blank">Wiki*</a></li>
                     <li><a href="/openwis-documentation/projects/openwis/#download">Download</a></li>
               </ul></li>
               <li><ul class="dropdown"><label for="p22"><a href="/openwis-documentation/projects/excel2wis/">Excel2wis Tool</a></label><input id="p22" type="checkbox" checked>
	          <li><a href="https://github.com/OpenWIS/excel2wis" target="_blank">Excel2wis github repository</a></li>
	       </ul></li>
            </ul>
         </div>
         <a class="page-link" href="mailto: contact@openwis.io">Contact</a>
         <div class="page-link">
            <ul class="dropdown"><label for="i1">Get Involved</label><input id="i1" type="checkbox">
                <li><a href="/openwis-documentation/structure/steering-committee.html">Steering Committee</a></li>
                <li><a href="/openwis-documentation/structure/technical-committee.html">Technical Committee</a></li>
                <li class="no-link">Developers</li>
		<li><a href="/openwis-documentation/howto/">How-to Instructions</a></li>
                <li><a href="/openwis-documentation/posts/">Github Posts Archive</a></li>
		<li><a href="https://www.openwis.io/cms/forum" target="_blank">Forum*</a></li>
            </ul>
         </div>          
         
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post">
	<header class="post-header">
		<h1 class="post-title">OpenWIS Technical Committee 2016 July</h1>
	</header>

	<div class="post-content">
		<h2 id="th-july-2016---teleconference---meeting-minutes">7th July 2016 - teleconference - meeting minutes</h2>
<hr />
<ol>
  <li><strong>OpenWIS 3.14</strong>
    <ol>
      <li><strong>Update to the patchable version of Java that Martin and Marc are working on for the portals and OpenAM.</strong>
        <ol>
          <li>MGo - So Marc and I identified either a 2 day or a 2 week fix and we went for the 2 day fix.  It builds but there are issues during execution on the test environment.  Probably a couple of days work for Marc to work through the dependencies.  See the <a href="https://openwis-association.ci.cloudbees.com/job/openwis-fix-openam-portals-java-version/">build job</a>.</li>
          <li>PN - So when can we expect 3.14.7?</li>
          <li>SO - Does Marc know what the exceptions are?</li>
          <li>MGo - Yes.</li>
          <li><span class="action">ACTION-TC-2016-43: SO/MGo/MGi - will speak on Friday morning (8/7/16). </span></li>
        </ol>
      </li>
      <li><strong>Revisit of action items pertaining to OpenAM and OpenDJ scripts and whether they are available in GitHub.</strong>
        <ol>
          <li>MGo - MF provided the <a href="https://github.com/OpenWIS/open-dj-am-install-scripts">install scripts</a>. They install OpenAM and OpenDJ with just a few manual steps.</li>
          <li>WQ - Is there any testing or deployment work to do?</li>
          <li>MGo - So they need to be integrated into your deployment; at UKMO we are using Puppet, but without the Configurator tool MF used.  That’s about a week’s work.</li>
          <li>RG - We have a newer version of the scripts; Yves is currently testing them.  We will make them available next week.  Any Puppet automation etc will be extra work.</li>
          <li>WQ - Ok, so that action is done.</li>
        </ol>
      </li>
      <li><strong>Revisit of action item pertaining to the status of OpenWIS 3.14.6 with XSS vulnerabilities fixed.</strong>
        <ol>
          <li>LM - These issues have been addressed in the code.</li>
          <li>MGo - So 3.14.6 builds but it hasn’t been tested.</li>
          <li>PN - At UKMO we are currently working to deploy 3.14.5.  We aim to deploy 3.14.6 in a couple of months time and will test it by then.</li>
          <li>WQ - So we will each test in our own environment.</li>
          <li>MGo - I sent the <a href="http://repository-openwis-association.forge.cloudbees.com/openwis/">link to the build</a> in an email earlier.</li>
        </ol>
      </li>
      <li><strong>Where do we go from here for OpenWIS 3.14?</strong>
        <ol>
          <li>PN - We are deploying OpenWIS 3.14.5 on a Test/Pre-prod environment.  At present we are investigating an issue with connections.</li>
          <li>MGo - The system has a production load with syncs and ingestion running and users logging in.  We start getting connection timeouts after a couple of hours and dissemination options go missing from the portal, which becomes generally unstable.  We’ve been looking at the code which fetches the dissemination options but it doesn’t try to trap any exceptions, nor check that the database call return is a valid result, nor tidy up its connections.  I’ve added some debugging to it.</li>
          <li>PN - Is anyone else running this version or getting these issues?</li>
          <li>LM - I can confirm that this code is an old file that hasn’t been changed in a long time.  So we are running it on our system and not getting these issues.</li>
          <li>MGo - Yes, it looks like a connection problem is the underlying issue.</li>
          <li>PN - So, Leon, you say you are running with a Tomcat connection pool of 200?</li>
          <li>LM - Yes, we haven’t changed from the Tomcat default.  We haven’t changed the DB connection pool either, which is set to 10.  I am currently running a test to log the count of open files on the server.</li>
          <li>MGo - How many sync jobs do you have running?</li>
          <li>LM - Quite a few, I’m running the sync for most GISCs.</li>
          <li>OL - We are running OpenWIS v 3.14.6 and testing it.  Is the problem only in OpenWIS v 3.14.5?</li>
          <li>MGo - We’ve seen the issues in v 3.14.3 and v 3.14.4 as well.</li>
        </ol>
      </li>
    </ol>
  </li>
  <li><strong>OpenWIS 4</strong>
    <ol>
      <li><strong>Current status with metadata search index (Apache Lucene vs Solr) and the scaling problems experienced with it.</strong>
        <ol>
          <li><strong>Any updates from GeoNetwork community as to how they will resolve this issue?</strong>
            <ol>
              <li>PR - We haven’t begun to address this problem yet, because we’ve been too busy automating deployment of 3.14 and trying to get that to work for production.  We did speak to GeoCat when the problem first arose and they did some investigation, but they didn’t come up with any quick solutions.</li>
            </ol>
          </li>
          <li><strong>Is this something that the OpenWIS Solr portal can be used to fix?</strong>
            <ol>
              <li>PR - We have been thinking along the lines of Solr or Elastic Search.</li>
            </ol>
          </li>
          <li><strong>Should we spend some development effort to assist GeoNetworks to address this.</strong>
            <ol>
              <li>PR - We are still aiming to resolve this problem and release OpenWIS 4.1, along with the other OpenWIS 4 changes we have been working on.  However, SCISYS (Martin and Andy) are leaving the project (more on that later), so this will happen later than planned.  For now, Martin and Andy have packaged up OpenWIS 4.0 so that everyone else can look at OpenWIS 4 while we work on this problem.</li>
              <li>LM - I spoke to Simon Pigot recently when he visited BoM.  Apparently, the GeoNetwork community plan to put Solr into v 3.4, though Simon said he would prefer it to be in 3.2, so Simon would be interested in any work we plan to do here.  Should we be targeting GeoNetwork v 3.2 rather than 3.0?</li>
              <li>PR - Ok, we will talk to the GeoNetwork community before we do any work on this.</li>
              <li>RG - When will v 3.2 be out?</li>
              <li>LM - By the end of this year.</li>
              <li>SO - How big a pool of metadata records causes issues with GeoNetwork 3?</li>
              <li>MGo - Anything over 2000 records causes issues.</li>
              <li>RG - And we have about 180,000 records, far above anything Lucence can handle.  So, we are stuck until we have Solr?</li>
              <li>PR - We still aim to have the harvesting working for the OpenWIS v 4.2 release in March 2017.</li>
              <li>RG - Even though you don’t know how much work will be involved?</li>
              <li>PR - Yes, that’s the plan.</li>
              <li>RG - So, you want us to look at the v 4 functionality on the development environment and perhaps show it to Users?</li>
              <li>PR - Yes.</li>
              <li>MGo - I’ve put it onto the Proxmox servers and Andy has Puppetised it.</li>
              <li>PN - What state is it in?</li>
              <li>MGo - Leon and Dom have logged-in.</li>
              <li>LM - It’s only the portal at the moment; I will try to get the Data Services on there by the next TC.</li>
              <li>MGo - We can also run it on AWS.  Currently it uses the internal GeoNetwork security mechanism rather than OpenAM etc.</li>
              <li>WQ - I have looked at the portal briefly.</li>
              <li>RG - At present it is available through a non-standard port.</li>
              <li>MGo - It’s port 8080, the default for Tomcat.</li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>
  <li><strong>Shared working space in MF private cloud</strong>
    <ol>
      <li><strong>Introduction from MF</strong>
        <ol>
          <li>RG - So currently MF has rented a couple of servers.  They run <a href="https://www.proxmox.com/en/">Proxmox</a> a kind of light-weight VMware.</li>
          <li>RG - The servers are dev1.openwis.io and dev2.openwis.io.  They are configured as a private LAN and network address tables (NAT) hide the IP addresses.  This has limitations in that management of the whole environment can’t be open to everyone because we can’t have more than one team with root access.</li>
          <li>RG - So, we need to allocate a team to manage the dev2 environment, that would configure VMs for everyone else.  MF has done this for Leon and Martin and then they have installed whatever stack they want on top.</li>
          <li>WQ - Are MF happy to continue in this server management role?</li>
          <li>RG - Yes, we are happy to continue to do that.</li>
          <li><span class="action">ACTION-TC-2016-44: RG - Will send round an email with the team contact email address. </span></li>
          <li>The NAT is done by IP tables but we are considering a proper proxy server on dev2, so that we can call the target URI openwis4.io or something.</li>
          <li>OL - What is dev1 used for?</li>
          <li>RG - other MF internal stuff.</li>
        </ol>
      </li>
    </ol>
  </li>
  <li><strong>OpenWIS Developer Workshop</strong>
    <ol>
      <li><strong>Workshop agenda</strong>
        <ol>
          <li>WQ - How many days do we need for the workshop?</li>
          <li>SO - I have the venue booked for the whole week, Monday to Friday, 26th to 30th September 2016.</li>
          <li>RG - the last workshop was 3.5 days.</li>
          <li>PN - What are the agenda items so far?</li>
          <li>SO - I would like to run the initial draft agenda past a couple of people early next week before I send it out more widely.</li>
          <li>RG - 3 or 4 days should be sufficient, can we agree that we will start Tuesday?</li>
          <li>OL - Perhaps Tuesday to Friday morning, so 3.5 days.  Start with simpler things like setup on Vagrant or Virtual Box, but also go a little deeper and look at things like metadata synchronisation, harvesting, pre-production testing, system components and drill-down into things.</li>
          <li>LM - So you mean the architectural components and how they work and interact?</li>
          <li>OL - Yes.</li>
          <li>SO - Ok, so I’ll aim to circulate the agenda to all by the end of next week.</li>
          <li>WQ - Ok, so let’s say 27th to 30th, 4 days max.</li>
          <li>SO - Please let me know who is planning on attending.  The workshop facility is on the outer rim so delegates don’t need to pass through to the higher security zones - but if you are intending any side meetings with other NOAA staff that would require deeper access, then please let me know.</li>
          <li>RG - Please send the precise location of the meeting.</li>
          <li><span class="action">ACTION-TC-2016-45: SO - Will email round the address of the Developer Workshop venue. </span></li>
        </ol>
      </li>
    </ol>
  </li>
  <li><strong>AOB</strong>
    <ol>
      <li><strong>Personnel changes at UKMO</strong>
        <ol>
          <li>PR - As I mentioned earlier, the guys from SCISYS are leaving the project.  We shall miss them, especially Martin who has worked with us for some time now.  Thank you Martin for all the excellent work you have done for us on the project.</li>
          <li>SO - When is Martin’s last day?</li>
          <li>PR - Martin’s last day will be next Thursday.</li>
        </ol>
      </li>
      <li><strong>Personnel changes at MF</strong>
        <ol>
          <li>RG - I will be moving to a new position and my last involvement with the project will likely be in September.</li>
          <li>My replacement is Michael Claudon</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<hr />

<h4 id="participants">Participants</h4>
<ul>
  <li>WQ - Weiqing Qu, Bureau of Meteorology, Australia [BoM], TC Chair</li>
  <li>LM - Leon Mika, Bureau of Meteorology, Australia [BoM]</li>
  <li>YW - Yang Wang, Bureau of Meteorology, Australia [BoM]</li>
  <li>OL - Okki Lee, Korea Meteorological Administration, Republic of Korea [KMA]</li>
  <li>HL - Hyekyoung Lee, Korea Meteorological Administration, Republic of Korea [KMA]</li>
  <li>RG - Remy Giraud, Meteo France, France [MF]</li>
  <li>MC - Michael Claudon, Meteo France, France [MF]</li>
  <li>YG - Yves Goupil, Meteo France, France [MF]</li>
  <li>JP - Jean Perie, Meteo France, France [MF]</li>
  <li>SO - Steve Olson, National Weather Service, USA [NWS]</li>
  <li>PG - Patrick Gillis, National Weather Service, USA [NWS]</li>
  <li>KS - Kari Sheets, National Weather Service, USA [NWS]</li>
  <li>MGo - Martin Gollogly, SCISYS, UK [UKMO]</li>
  <li>DJ - Duncan Jeffrey, Met Office, UK [UKMO]</li>
  <li>PN - Paul Nelson, Met Office, UK [UKMO]</li>
  <li>PR - Paul Rogers, Met Office, UK [UKMO]</li>
</ul>


	</div>

</article>

      </div>
    </div>

    
<div class="wrapper">



</div>

  
  
    <footer class="site-footer">

  <div class="wrapper">
    <div>
      <p><a class="gh-pages-editor-link" href="https://github.com/OpenWIS/openwis-documentation/blob/gh-pages/_minutes/2016-07-07-OpenWIS-Technical-Committee-2016-Jul.md">Edit this page on gh-pages</a></p>
    </div>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li><a href="/openwis-documentation/">OpenWIS Association AISBL</a></li>
          <li><a href="mailto:contact@openwis.io">contact@openwis.io</a></li>
        </ul>
      </div>

      <div style="text-align:right; float:right" class="footer-col footer-col-3">
        <p><a rel="license" href="//creativecommons.org/licenses/by/4.0/" target="_blank" title="Creative Commons Attribution 4.0 International license"><img src="https://licensebuttons.net/l/by/4.0/88x31.png" alt="License"/></a></p>
        <p><small>Except where otherwise noted, content on <span href="/openwis-documentation">this site</span> is licensed under a <a rel="license" href="//creativecommons.org/licenses/by/4.0/" target="_blank"> Creative Commons Attribution 4.0 International license</a>.</small></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
